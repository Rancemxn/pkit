--- vgmstream/cmake/dependencies/vorbis.cmake	2025-01-01 01:18:07.000000000 +0800
+++ vgmstream/cmake/dependencies/vorbis.cmake	2025-05-02 20:10:12.718839500 +0800
@@ -1,44 +1,14 @@
-if(NOT WIN32 AND USE_VORBIS)
-	if(NOT VORBIS_PATH)
-		find_package(VorbisFile QUIET)
-		
-		if(VORBISFILE_FOUND)
-			set(VORBIS_SOURCE "(system)")
-		endif()
-	endif()
-	if(VORBIS_PATH AND (OGG_PATH OR OGG_FOUND) OR NOT VORBISFILE_FOUND)
-		FetchDependency(VORBIS
-			DIR vorbis
-			GIT_REPOSITORY https://gitlab.xiph.org/xiph/vorbis
-			GIT_TAG v1.3.7
-		)
-		
-		if(VORBIS_PATH)
-			set(VORBIS_LINK_PATH ${VORBIS_BIN}/lib/libvorbis.a)
-			set(VORBISFILE_LINK_PATH ${VORBIS_BIN}/lib/libvorbisfile.a)
-			
-			if(EXISTS ${VORBIS_LINK_PATH} AND EXISTS ${VORBISFILE_LINK_PATH})
-				add_library(vorbis STATIC IMPORTED)
-				set_target_properties(vorbis PROPERTIES
-					IMPORTED_LOCATION ${VORBIS_LINK_PATH}
-				)
-				add_library(vorbisfile STATIC IMPORTED)
-				set_target_properties(vorbisfile PROPERTIES
-					IMPORTED_LOCATION ${VORBISFILE_LINK_PATH}
-				)
-			else()
-				add_subdirectory(${VORBIS_PATH} ${VORBIS_BIN} EXCLUDE_FROM_ALL)
-			endif()
-			
-			set(OGG_VORBIS_INCLUDE_DIR ${VORBIS_PATH}/include)
-			set(OGG_VORBIS_LIBRARY vorbis)
-			
-			set(VORBISFILE_INCLUDE_DIRS ${OGG_INCLUDE_DIR} ${OGG_VORBIS_INCLUDE_DIR})
-		else()
-			set_vorbis(OFF TRUE)
-		endif()
-	endif()
+if(USE_VORBIS)
+			set(Vorbis_INCLUDE_DIRS ${VORBIS_PATH}/../include CACHE PATH "Vorbis" FORCE)
+			set(VORBISFILE_INCLUDE_DIRS ${Vorbis_INCLUDE_DIRS} CACHE PATH "VorbisFile" FORCE)
+			set(Vorbis_LIBRARIES vorbis CACHE STRING "" FORCE)
+			set(VORBISFILE_LIBRARIES vorbisfile ${Vorbis_LIBRARIES} CACHE STRING "" FORCE)
+			list(APPEND CMAKE_CXX_FLAGS "-L${VORBIS_PATH}")
+			list(APPEND CMAKE_C_FLAGS "-L${VORBIS_PATH}")
+			list(APPEND CMAKE_EXE_LINKER_FLAGS "-L${VORBIS_PATH}")
+			list(APPEND CMAKE_SHARED_LINKER_FLAGS "-L${VORBIS_PATH}")
 endif()
+
 if(NOT USE_VORBIS)
 	unset(VORBIS_SOURCE)
-endif()
+endif()
\ No newline at end of file
